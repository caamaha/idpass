<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Secret Records</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
<script src="js/jquery-1.8.0.js"></script>
<script src="js/index.js"></script>
<script src="js/md5.js"></script>
<script src="js/aes.js"></script>
<script>
function DecryptRecords()
{
	var aes_key = CryptoJS.MD5(document.getElementById("username").value + document.getElementById("password").value + "3.141592653589793238462643383");
	var key = CryptoJS.enc.Utf8.parse(aes_key); 
	var iv  = CryptoJS.enc.Utf8.parse('1234567812345678');

	var val_set = document.getElementsByTagName("a");

	for(var i = 0; i < val_set.length; i++)
	{
		if(val_set[i].getAttribute('encrypted') == "1")
		{
			val_set[i].innerHTML = CryptoJS.AES.decrypt(val_set[i].innerHTML.toString(), key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString(CryptoJS.enc.Utf8);;
		}
		val_set[i].setAttribute('encrypted', '0');
	}
}
$(document).ready(function(){
	$("#decrypt").click(function(){
				DecryptRecords();
			});
});
</script>

</head>
<body>

	<div>
	<form id="slick-login">
		<label for="username">username</label><input type="text" id="username" name="username" class="placeholder" placeholder="user name">
		<label for="password">password</label><input type="password" id="password" name="password" class="placeholder" placeholder="password">
		<input type="button" id="decrypt" value="Decrypt">
	</form>
	</div>
	<div>
	<ul id="accordion" class="accordion"><li><div class="link">New Record</div><ul class="submenu"><table><tr><td width="200 px"><a href="#">用户名</a></td><td><a href="#" encrypted="0">a</a></td></tr><tr><td width="200 px"><a href="#">密码</a></td><td><a href="#" encrypted="1">Z3TK4c/kjru2TUmWmtqs3w==</a></td></tr><tr><td width="200 px"><a href="#">URL</a></td><td><a href="#" encrypted="0">c</a></td></tr></table></ul></li><li><div class="link">New Recordas</div><ul class="submenu"><table><tr><td width="200 px"><a href="#">用户名</a></td><td><a href="#" encrypted="1">eZm685iYKmQLxPSOFus/gQ==</a></td></tr><tr><td width="200 px"><a href="#">密码</a></td><td><a href="#" encrypted="1">YB/0CLPOOiFq6nWK6ip2Pg==</a></td></tr><tr><td width="200 px"><a href="#">URL</a></td><td><a href="#" encrypted="1">6UTCYOH3m6Ve8cCB5stBlg==</a></td></tr></table></ul></li><li><div class="link">New Recordwe</div><ul class="submenu"><table><tr><td width="200 px"><a href="#">用户名</a></td><td><a href="#" encrypted="0">asdf</a></td></tr><tr><td width="200 px"><a href="#">密码</a></td><td><a href="#" encrypted="1">RBQFDv/dz3DJyR/eyQtfcg==</a></td></tr><tr><td width="200 px"><a href="#">URL</a></td><td><a href="#" encrypted="1">KRpm+8gMn6QKTSzJhR+v9w==</a></td></tr></table></ul></li></ul>
	</div>
</body>
</html>